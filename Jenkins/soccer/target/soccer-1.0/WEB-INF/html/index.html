<html>
<meta charset="UTF-8" /> 
<head>
	<script src="../js/angular.min.js"></script>
</head>
<body>
	<script>
		var mainApp = angular.module("mainApp", []);
		mainApp.controller('RESTController', function ($scope, $http) {
			//Cliente AJAX de Recurso time: GET
			$scope.GetTime = function () {
				$http.get('http://10.12.18.237:8701/mju/esb/rest/test/time', {
					params:{},
					headers: {
						'Authorization': 'Bearer eyJ4NWMiOlsiTUlJR0N6Q0NBXC9PZ0F3SUJBZ0lUWmtQVk1JenhqdDVBeWEzWjRrUXlnbmFyTHpBTkJna3Foa2lHOXcwQkFRc0ZBRENCZ2pFTE1Ba0dBMVVFQmhNQ1JWTXhIekFkQmdOVkJBb1RGazFwYm1semRHVnlhVzhnWkdVZ1NuVnpkR2xqYVdFeFVqQlFCZ05WQkFNTVNWTjFZa05CSUMwZ1UzVmlaR2x5WldOamFjT3piaUJIWlc1bGNtRnNJR1JsSUU1MVpYWmhjeUJVWldOdWIyeHZaOE90WVhNZ1pHVWdiR0VnU25WemRHbGphV0VnS0ZCU1JTa3dIaGNOTVRjd01qQXhNVFl6TkRBeFdoY05NVGd3TWpBeE1UWXpOREF4V2pDQnV6RVJNQThHQTFVRUJSTUlhWFJ3YzJsbGMySXhDekFKQmdOVkJBWVRBa1ZUTVVRd1FnWURWUVFMRER0VGRXSmthWEpsWTJOcHc3TnVJRWRsYm1WeVlXd2daR1VnVG5WbGRtRnpJRlJsWTI1dmJHOW53NjFoY3lCa1pTQnNZU0JLZFhOMGFXTnBZVEVmTUIwR0ExVUVDaE1XVFdsdWFYTjBaWEpwYnlCa1pTQktkWE4wYVdOcFlURXlNREFHQTFVRUF4TXBVR3hoZEdGbWIzSnRZU0JrWlNCVFpYSjJhV05wYjNNZ1NXNTBaWEp2Y0dWeVlXSnBiR2xrWVdRd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUNmK1VaZk9VSzdGbnJHQ2IyUVhZV0dtZEp1VFo3YmUxM25yNFRXcTI2UllhbDZVbU14eEdsZFRTSWRXNGxnUEpsSmFyY2kzZENRVkowOGI5bVgrcE1iVXJNQzNkclJ5eWhCTndFMjZEdElmdTJEXC9oeXpGNEJpeUhiYnc3V3NBRjNDZThrbTYxVFwvWHNxYnJabGFXbW96V3VhZFwvTjd0RDdJOWhoYTVsc0lPUjk2R2VYRnFNWTZ4eGdOc2tSbVNlU1M5T24wdEk5cWtFKzZFVTVha2Q2ME45NkVSQWdRWTdZU1BaOTlTdXpNQnU5NW9BT0hZNkE3K3QyM1BqeGtPNnpsTjRUZ0ZRVVZBTWh5T1FVRFJTMUxHVzBnaGR4M3FRRWRnOWRVK25sVVp4MWJjWWUzbWdXVTBwTGNwMDJZMVZSOXZGdkZJMGxcL3E4RTVqbG9XYmJjVlwvQWdNQkFBR2pnZ0U5TUlJQk9UQWRCZ05WSFE0RUZnUVU3Q1dwN29kMUhhVVlTSWZIRWhIdno0RnhrZ3N3ZUFZSUt3WUJCUVVIQVFFRWJEQnFNQ2dHQ0NzR0FRVUZCekFCaGh4b2RIUndPaTh2Y0hKbExXOWpjM0F1YW5WemRHbGphV0V1WlhNdk1ENEdDQ3NHQVFVRkJ6QUNoakpvZEhSd09pOHZjSEpsTFhOalpXMXFMbXAxYzNScFkybGhMbVZ6TDJObGNuUnpMMU4xWWtOQkxWTkhUbFJLTG1OeWREQk9CZ05WSFNBRVJ6QkZNRU1HRHlzR0FRUUJnbzE5QVFZQ0FnUUJBREF3TUM0R0NDc0dBUVVGQndJQkZpSm9kSFJ3T2k4dmNISmxMWE5qWlcxcUxtcDFjM1JwWTJsaExtVnpMMlJ3WTNNdk1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUJCZ2dyQmdFRkJRY0RBakFmQmdOVkhTTUVHREFXZ0JRcWVCMnUwRUhMRXQ0Y1ZDWFYyY3FaZm5BdkJ6QU9CZ05WSFE4QkFmOEVCQU1DQkxBd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dJQkFINjdETjNHVVQxQXdrNEtpaExoZlFDbjZBVG5kUXpoN0dvRHlMVmVDUFpsOUk0Y2V1YURRV1krTlhqVklmRWFDWW1ObHZVZEZqYXp5cFlyaHJGWWUya2VYdEpvOXZIaExNbVZqbmpVQkJsaVZcL20rZ0Q0RmhZZ3BqTVlHVDlpeGh5aVdyTWJCQytuVURxYlZURVZTa1VnYmJaT2cwR0t2MXpFelRuUWNxYVh2eFBZaUd6ZWJoTkJpSGJ0dWE1SGwzSDBqXC81OXV6TTMrTzJZNlNjRGxRUHE1VHFMUFpJUCtDN0lwd1F2M3V1bGN3aCtJNUlJa3QxTGZDbzR1SGhmZXVtNFJ0S3kwVktoNFRNU2lleGI0N2hVUEJBdlR0K1J5UUwwbmptUk4zUjRlckhuUlU2Q2R4Rkc1RHU3VE42a1JcL2hhS2VKZUQwdlVseDVNMkN5WnVRdXEzcjJLWStWZ2FzR3JKK1hMaEhYdkNLek0xOTJmSVAxd3RLUW85emJETHE3R29hcm1ubm9RTE94VGM3bVFPcVZoZEx2dFRcL2JHd3JjSlgwd3RcLzlzTFp1RzVhYzZtSk1HVkE0OXdRVnd1eWdjRDBvZlpFUnNwZU02dll6aEc0ZEJtY2tER2hybWc2amkyWGdzTjRrK1dmVDRBamxnQnpVYWVXOVVCdWRIR1c3ekg4VXoxUWNZVlE3Q1lmOERmNUZlQVhXaXRKU1dkUGNyNEJcLzBPa0I2ZjNmK1pGWWVCWDZhV2R3SUtyK2hjaFNIQWVjdXA5MlhVa0dOcXNva1NWVU12UGVZbVo4MkZOT2lhY1pqQmFrOXpBaVZISFhWXC9kekdNa2R0UmFlUVwvSEdHb25DNVUwQ0NHQXBLV0h0UmpEbG1QVjJLMzVRUVI2NmNIUG14TWNnbEhKIl0sImN0eSI6ImFwcGxpY2F0aW9uXC9qd2sranNvbjsgY2hhcnNldD1VVEYtOCIsInR5cCI6IkpXVCIsImFsZyI6IlJTMjU2IiwiandrIjp7Imt0eSI6IlJTQSIsImUiOiJBUUFCIiwibiI6Im5fbEdYemxDdXhaNnhnbTlrRjJGaHBuU2JrMmUyM3RkNTYtRTFxdHVrV0dwZWxKak1jUnBYVTBpSFZ1SllEeVpTV3EzSXQzUWtGU2RQR19abF9xVEcxS3pBdDNhMGNzb1FUY0JOdWc3U0g3dGdfNGNzeGVBWXNoMjI4TzFyQUJkd252Skp1dFVfMTdLbTYyWldscHFNMXJtbmZ6ZTdRLXlQWVlXdVpiQ0RrZmVobmx4YWpHT3NjWURiSkVaa25ra3ZUcDlMU1BhcEJQdWhGT1dwSGV0RGZlaEVRSUVHTzJFajJmZlVyc3pBYnZlYUFEaDJPZ09fcmR0ejQ4WkR1czVUZUU0QlVGRlFESWNqa0ZBMFV0U3hsdElJWGNkNmtCSFlQWFZQcDVWR2NkVzNHSHQ1b0ZsTktTM0tkTm1OVlVmYnhieFNOSmY2dkJPWTVhRm0yM0ZmdyJ9fQ.eyJzdWIiOiJERVNBIiwiYXVkIjoiaXRwc2llc2IiLCJuYmYiOjE0OTk3NjUzMTMsImlzcyI6Iml0cHNpZXNiIiwiZXhwIjoxODE1MTI1MzEzLCJpYXQiOjE0OTk3NjUzMTMsImp0aSI6Ink3cFpKeGNWWHBQVjRRcWkifQ.kjHeFUcT3s2cuAsDDcwk4Hry8CSEBJqeEupnoraedR53APErGKFujDFjH4Rchjl3_LzNgbVfPvw4Ovr0dvjQu5qqNr4znVJC0iDwXTl1VZeohLCTkTzNS2p5cYpOi8e5RPqWjNx2x0l7or0jHqoKAOSyIza6hRr_E8TpiMzn7a8nxh0u0E-Tv__Cl0jYG9Lf2HQZBOmy4SBRKWmYietTsiDMvnb5ULcRtEsBofDvwbmx4RsQ_h98ht-n9Ssx9_fe8GYgvxVhFb9hngxDLB9quhotdlQvt5rz9ovU7O6knSOkJHXWMTQQmDg0vS3RGoPfoPOGV9v4q1ycmKBo6F7OUw'
					}
				}).then(
				function (response) {
					$scope.txtTIME = response.data.TimeResponse.currentDateTime;           
					if ($scope.txtLOG == undefined) $scope.txtLOG = "";
					$scope.txtLOG = $scope.txtLOG + "\n" + "GET Time: " + response.data.TimeResponse.currentDateTime;
				},
				function (response) {
					if ($scope.txtLOG == undefined) $scope.txtLOG = "";
					$scope.txtLOG = $scope.txtLOG + "\n" + "Error en GET Time: Status = " + response.status + " (" + response.statusText + "); ErrorESB = " + response.data.ErrorESB.codigo + " * " + response.data.ErrorESB.descripcion + " (" + response.data.ErrorESB.causa + ")";
				});
			}
			
			//Cliente AJAX de Recurso echo: POST
			$scope.PostEcho = function () {
				$http.post("http://10.12.18.237:8701/mju/esb/rest/test/echo", {
					'messageEcho': $scope.txtECHO
				}, {
					params:{},
					headers: {
						'Authorization': 'Bearer eyJ4NWMiOlsiTUlJR0N6Q0NBXC9PZ0F3SUJBZ0lUWmtQVk1JenhqdDVBeWEzWjRrUXlnbmFyTHpBTkJna3Foa2lHOXcwQkFRc0ZBRENCZ2pFTE1Ba0dBMVVFQmhNQ1JWTXhIekFkQmdOVkJBb1RGazFwYm1semRHVnlhVzhnWkdVZ1NuVnpkR2xqYVdFeFVqQlFCZ05WQkFNTVNWTjFZa05CSUMwZ1UzVmlaR2x5WldOamFjT3piaUJIWlc1bGNtRnNJR1JsSUU1MVpYWmhjeUJVWldOdWIyeHZaOE90WVhNZ1pHVWdiR0VnU25WemRHbGphV0VnS0ZCU1JTa3dIaGNOTVRjd01qQXhNVFl6TkRBeFdoY05NVGd3TWpBeE1UWXpOREF4V2pDQnV6RVJNQThHQTFVRUJSTUlhWFJ3YzJsbGMySXhDekFKQmdOVkJBWVRBa1ZUTVVRd1FnWURWUVFMRER0VGRXSmthWEpsWTJOcHc3TnVJRWRsYm1WeVlXd2daR1VnVG5WbGRtRnpJRlJsWTI1dmJHOW53NjFoY3lCa1pTQnNZU0JLZFhOMGFXTnBZVEVmTUIwR0ExVUVDaE1XVFdsdWFYTjBaWEpwYnlCa1pTQktkWE4wYVdOcFlURXlNREFHQTFVRUF4TXBVR3hoZEdGbWIzSnRZU0JrWlNCVFpYSjJhV05wYjNNZ1NXNTBaWEp2Y0dWeVlXSnBiR2xrWVdRd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUNmK1VaZk9VSzdGbnJHQ2IyUVhZV0dtZEp1VFo3YmUxM25yNFRXcTI2UllhbDZVbU14eEdsZFRTSWRXNGxnUEpsSmFyY2kzZENRVkowOGI5bVgrcE1iVXJNQzNkclJ5eWhCTndFMjZEdElmdTJEXC9oeXpGNEJpeUhiYnc3V3NBRjNDZThrbTYxVFwvWHNxYnJabGFXbW96V3VhZFwvTjd0RDdJOWhoYTVsc0lPUjk2R2VYRnFNWTZ4eGdOc2tSbVNlU1M5T24wdEk5cWtFKzZFVTVha2Q2ME45NkVSQWdRWTdZU1BaOTlTdXpNQnU5NW9BT0hZNkE3K3QyM1BqeGtPNnpsTjRUZ0ZRVVZBTWh5T1FVRFJTMUxHVzBnaGR4M3FRRWRnOWRVK25sVVp4MWJjWWUzbWdXVTBwTGNwMDJZMVZSOXZGdkZJMGxcL3E4RTVqbG9XYmJjVlwvQWdNQkFBR2pnZ0U5TUlJQk9UQWRCZ05WSFE0RUZnUVU3Q1dwN29kMUhhVVlTSWZIRWhIdno0RnhrZ3N3ZUFZSUt3WUJCUVVIQVFFRWJEQnFNQ2dHQ0NzR0FRVUZCekFCaGh4b2RIUndPaTh2Y0hKbExXOWpjM0F1YW5WemRHbGphV0V1WlhNdk1ENEdDQ3NHQVFVRkJ6QUNoakpvZEhSd09pOHZjSEpsTFhOalpXMXFMbXAxYzNScFkybGhMbVZ6TDJObGNuUnpMMU4xWWtOQkxWTkhUbFJLTG1OeWREQk9CZ05WSFNBRVJ6QkZNRU1HRHlzR0FRUUJnbzE5QVFZQ0FnUUJBREF3TUM0R0NDc0dBUVVGQndJQkZpSm9kSFJ3T2k4dmNISmxMWE5qWlcxcUxtcDFjM1JwWTJsaExtVnpMMlJ3WTNNdk1CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUJCZ2dyQmdFRkJRY0RBakFmQmdOVkhTTUVHREFXZ0JRcWVCMnUwRUhMRXQ0Y1ZDWFYyY3FaZm5BdkJ6QU9CZ05WSFE4QkFmOEVCQU1DQkxBd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dJQkFINjdETjNHVVQxQXdrNEtpaExoZlFDbjZBVG5kUXpoN0dvRHlMVmVDUFpsOUk0Y2V1YURRV1krTlhqVklmRWFDWW1ObHZVZEZqYXp5cFlyaHJGWWUya2VYdEpvOXZIaExNbVZqbmpVQkJsaVZcL20rZ0Q0RmhZZ3BqTVlHVDlpeGh5aVdyTWJCQytuVURxYlZURVZTa1VnYmJaT2cwR0t2MXpFelRuUWNxYVh2eFBZaUd6ZWJoTkJpSGJ0dWE1SGwzSDBqXC81OXV6TTMrTzJZNlNjRGxRUHE1VHFMUFpJUCtDN0lwd1F2M3V1bGN3aCtJNUlJa3QxTGZDbzR1SGhmZXVtNFJ0S3kwVktoNFRNU2lleGI0N2hVUEJBdlR0K1J5UUwwbmptUk4zUjRlckhuUlU2Q2R4Rkc1RHU3VE42a1JcL2hhS2VKZUQwdlVseDVNMkN5WnVRdXEzcjJLWStWZ2FzR3JKK1hMaEhYdkNLek0xOTJmSVAxd3RLUW85emJETHE3R29hcm1ubm9RTE94VGM3bVFPcVZoZEx2dFRcL2JHd3JjSlgwd3RcLzlzTFp1RzVhYzZtSk1HVkE0OXdRVnd1eWdjRDBvZlpFUnNwZU02dll6aEc0ZEJtY2tER2hybWc2amkyWGdzTjRrK1dmVDRBamxnQnpVYWVXOVVCdWRIR1c3ekg4VXoxUWNZVlE3Q1lmOERmNUZlQVhXaXRKU1dkUGNyNEJcLzBPa0I2ZjNmK1pGWWVCWDZhV2R3SUtyK2hjaFNIQWVjdXA5MlhVa0dOcXNva1NWVU12UGVZbVo4MkZOT2lhY1pqQmFrOXpBaVZISFhWXC9kekdNa2R0UmFlUVwvSEdHb25DNVUwQ0NHQXBLV0h0UmpEbG1QVjJLMzVRUVI2NmNIUG14TWNnbEhKIl0sImN0eSI6ImFwcGxpY2F0aW9uXC9qd2sranNvbjsgY2hhcnNldD1VVEYtOCIsInR5cCI6IkpXVCIsImFsZyI6IlJTMjU2IiwiandrIjp7Imt0eSI6IlJTQSIsImUiOiJBUUFCIiwibiI6Im5fbEdYemxDdXhaNnhnbTlrRjJGaHBuU2JrMmUyM3RkNTYtRTFxdHVrV0dwZWxKak1jUnBYVTBpSFZ1SllEeVpTV3EzSXQzUWtGU2RQR19abF9xVEcxS3pBdDNhMGNzb1FUY0JOdWc3U0g3dGdfNGNzeGVBWXNoMjI4TzFyQUJkd252Skp1dFVfMTdLbTYyWldscHFNMXJtbmZ6ZTdRLXlQWVlXdVpiQ0RrZmVobmx4YWpHT3NjWURiSkVaa25ra3ZUcDlMU1BhcEJQdWhGT1dwSGV0RGZlaEVRSUVHTzJFajJmZlVyc3pBYnZlYUFEaDJPZ09fcmR0ejQ4WkR1czVUZUU0QlVGRlFESWNqa0ZBMFV0U3hsdElJWGNkNmtCSFlQWFZQcDVWR2NkVzNHSHQ1b0ZsTktTM0tkTm1OVlVmYnhieFNOSmY2dkJPWTVhRm0yM0ZmdyJ9fQ.eyJzdWIiOiJERVNBIiwiYXVkIjoiaXRwc2llc2IiLCJuYmYiOjE0OTk3NjUzMTMsImlzcyI6Iml0cHNpZXNiIiwiZXhwIjoxODE1MTI1MzEzLCJpYXQiOjE0OTk3NjUzMTMsImp0aSI6Ink3cFpKeGNWWHBQVjRRcWkifQ.kjHeFUcT3s2cuAsDDcwk4Hry8CSEBJqeEupnoraedR53APErGKFujDFjH4Rchjl3_LzNgbVfPvw4Ovr0dvjQu5qqNr4znVJC0iDwXTl1VZeohLCTkTzNS2p5cYpOi8e5RPqWjNx2x0l7or0jHqoKAOSyIza6hRr_E8TpiMzn7a8nxh0u0E-Tv__Cl0jYG9Lf2HQZBOmy4SBRKWmYietTsiDMvnb5ULcRtEsBofDvwbmx4RsQ_h98ht-n9Ssx9_fe8GYgvxVhFb9hngxDLB9quhotdlQvt5rz9ovU7O6knSOkJHXWMTQQmDg0vS3RGoPfoPOGV9v4q1ycmKBo6F7OUw',
						'Content-Type' : 'application/json'
					}
				}).then(
				function (response, status, headers, config) {
					if ($scope.txtLOG == undefined) $scope.txtLOG = "";				
					$scope.txtLOG = $scope.txtLOG + "\n" + "POST Echo: " + response.data.EchoResponse.messageEcho;
				},
				function (response, status, headers, config) {
					if ($scope.txtLOG == undefined) $scope.txtLOG = "";				
					$scope.txtLOG = $scope.txtLOG + "\n" + "Error en POST Echo: Status = " + response.status + " (" + response.statusText + "); ErrorESB = " + response.data.ErrorESB.codigo + " * " + response.data.ErrorESB.descripcion + " (" + response.data.ErrorESB.causa + ")";
				});
			}		
		});
	</script>
	<!-- 
	<div ng-app="mainApp" ng-controller="RESTController">
		<input type="text" ng-model="txtTIME" /> <input type="button" ng-click="GetTime()" value="GET Time" /><br />		
		<input type="text" ng-model="txtECHO" /> <input type="button" ng-click="PostEcho()" value="POST Echo" /><br />
		<br />		
		<textarea ng-model="txtLOG" />
	</div>
	 -->
</body>
</html>